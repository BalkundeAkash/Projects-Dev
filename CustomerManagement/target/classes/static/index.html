<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Customer Management UI</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background: #eef2f3;
        margin: 0;
        padding: 20px;
    }
    h2 {
        text-align: center;
        color: #333;
    }
    .container {
        width: 450px;
        margin: auto;
        padding: 20px;
        background: white;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    label {
        font-weight: bold;
    }
    input {
        width: 100%;
        padding: 10px;
        margin: 8px 0;
        border-radius: 5px;
        border: 1px solid #aaa;
    }
    button {
        width: 100%;
        padding: 10px;
        margin-top: 10px;
        border: none;
        background: #007bff;
        color: white;
        font-size: 16px;
        border-radius: 5px;
        cursor: pointer;
    }
    button:hover {
        background: #0056b3;
    }
    .section {
        margin-top: 25px;
        padding-top: 10px;
        border-top: 1px solid #ddd;
    }
    #result {
        margin-top: 15px;
        padding: 10px;
        background: #f7f7f7;
        border-radius: 5px;
        min-height: 20px;
    }
</style>

</head>
<body>

<h2>Customer Management</h2>

<div class="container">

    <!-- ADD CUSTOMER -->
    <h3>Add Customer</h3>

    <label>Customer ID:</label>
    <input type="number" id="id" placeholder="Enter Customer ID">

    <label>Name:</label>
    <input type="text" id="name" placeholder="Enter Name">

    <label>Address:</label>
    <input type="text" id="address" placeholder="Enter Address">

    <label>Email:</label>
    <input type="email" id="email" placeholder="Enter Email">

    <button onclick="addCustomer()">Add Customer</button>

    <!-- GET CUSTOMER -->
    <div class="section">
        <h3>Get Customer</h3>
        <label>Enter ID:</label>
        <input type="number" id="getId" placeholder="Customer ID">
        <button onclick="getCustomer()">Get Customer</button>
    </div>

    <!-- DELETE CUSTOMER -->
    <div class="section">
        <h3>Delete Customer</h3>
        <label>Enter ID:</label>
        <input type="number" id="deleteId" placeholder="Customer ID">
        <button onclick="deleteCustomer()">Delete Customer</button>
    </div>

    <!-- RESULT AREA -->
    <div id="result"></div>

</div>

<script>
function addCustomer() {
    let customer = {
        id: parseInt(document.getElementById("id").value),
        name: document.getElementById("name").value,
        // backend field name is 'addres' (as in your entity)
        addres: document.getElementById("address").value,
        email: document.getElementById("email").value
    };

    fetch("/customer/add", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(customer)
    })
    .then(res => res.text())
    .then(data => {
        document.getElementById("result").innerHTML = "<b>" + data + "</b>";
    })
    .catch(err => {
        document.getElementById("result").innerHTML = "Error: " + err;
    });
}

function getCustomer() {
    let id = document.getElementById("getId").value;

    fetch("/customer/" + id)
        .then(res => {
            if (!res.ok) {
                throw new Error("Customer not found");
            }
            return res.json();
        })
        .then(data => {
            document.getElementById("result").innerHTML =
                "<b>ID:</b> " + data.id + "<br>" +
                "<b>Name:</b> " + data.name + "<br>" +
                "<b>Address:</b> " + data.addres + "<br>" +
                "<b>Email:</b> " + data.email;
        })
        .catch(() => {
            document.getElementById("result").innerHTML = "Customer not found!";
        });
}

function deleteCustomer() {
    let id = document.getElementById("deleteId").value;

    fetch("/customer/" + id, {
        method: "DELETE"
    })
    .then(res => res.text())
    .then(data => {
        document.getElementById("result").innerHTML = "<b>" + data + "</b>";
    })
    .catch(err => {
        document.getElementById("result").innerHTML = "Error: " + err;
    });
}
</script>

</body>
</html>
