<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Hospital Management â€“ Doctor & Staff</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background: #eef1f7;
        padding: 30px;
    }
    .tabs {
        display: flex;
        margin-bottom: 20px;
    }
    .tab-btn {
        flex: 1;
        padding: 12px;
        background: #ddd;
        text-align: center;
        cursor: pointer;
        border-radius: 8px 8px 0 0;
        font-weight: bold;
        margin-right: 5px;
    }
    .tab-btn.active {
        background: #007bff;
        color: white;
    }
    .container {
        width: 450px;
        margin: auto;
        background: #fff;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 12px rgba(0,0,0,0.15);
    }
    input {
        width: 100%;
        padding: 10px;
        margin: 8px 0;
        border-radius: 5px;
        border: 1px solid #aaa;
        font-size: 14px;
    }
    button {
        width: 100%;
        padding: 10px;
        margin-top: 8px;
        background: #28a745;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 15px;
    }
    button:hover { background: #1e7e34; }
    .delete-btn { background: #dc3545; }
    .delete-btn:hover { background: #b02a37; }

    #result {
        margin-top: 15px;
        padding: 12px;
        background: #e9ffe9;
        border-left: 6px solid #2ecc71;
        border-radius: 4px;
        font-size: 14px;
        display: none;
    }
    .section { display: none; }
    .section.active { display: block; }
</style>
</head>
<body>

<!-- Tabs -->
<div class="tabs">
    <div class="tab-btn active" onclick="showTab('doctor')">Doctor Management</div>
    <div class="tab-btn" onclick="showTab('staff')">Staff Management</div>
</div>

<div class="container">

    <!-- Doctor Section -->
    <div class="section active" id="doctor">

        <h2>Doctor Management</h2>

        <label>ID</label>
        <input type="number" id="doc_id">

        <label>Name</label>
        <input type="text" id="doc_name">

        <label>Address</label>
        <input type="text" id="doc_address">

        <label>Specialization</label>
        <input type="text" id="doc_spl">

        <button onclick="addDoctor()">Add Doctor</button>
        <button onclick="getDoctor()">Get Doctor</button>
        <button class="delete-btn" onclick="deleteDoctor()">Delete Doctor</button>

    </div>

    <!-- Staff Section -->
    <div class="section" id="staff">

        <h2>Staff Management</h2>

        <label>ID</label>
        <input type="number" id="staff_id">

        <label>Name</label>
        <input type="text" id="staff_name">

        <label>Address</label>
        <input type="text" id="staff_address">

        <button onclick="addStaff()">Add Staff</button>
        <button onclick="getStaff()">Get Staff</button>
        <button class="delete-btn" onclick="deleteStaff()">Delete Staff</button>

    </div>

    <div id="result"></div>
</div>

<script>
    // Tabs Switch
    function showTab(tab) {
        document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
        document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));

        event.target.classList.add('active');
        document.getElementById(tab).classList.add('active');
    }

    const DOCTOR_URL = "http://localhost:8080/doctor";
    const STAFF_URL  = "http://localhost:8080/staff";

    function showMessage(msg) {
        const res = document.getElementById("result");
        res.style.display = "block";
        res.innerHTML = msg;
    }

    // Doctor Functions
    function addDoctor() {
        let doctor = {
            id: document.getElementById("doc_id").value,
            name: document.getElementById("doc_name").value,
            address: document.getElementById("doc_address").value,
            spl: document.getElementById("doc_spl").value
        };

        fetch(DOCTOR_URL + "/add", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(doctor)
        })
        .then(res => res.text())
        .then(msg => showMessage(msg));
    }

    function getDoctor() {
        let id = document.getElementById("doc_id").value;

        fetch(`${DOCTOR_URL}/${id}`)
        .then(res => res.json())
        .then(data => {
            document.getElementById("doc_name").value = data.name;
            document.getElementById("doc_address").value = data.address;
            document.getElementById("doc_spl").value = data.spl;
            showMessage("Doctor fetched successfully");
        })
        .catch(() => showMessage("Doctor not found"));
    }

    function deleteDoctor() {
        let id = document.getElementById("doc_id").value;

        fetch(`${DOCTOR_URL}/${id}`)
        .then(res => res.text())
        .then(msg => showMessage(msg));
    }

    // Staff Functions
    function addStaff() {
        let staff = {
            id: document.getElementById("staff_id").value,
            name: document.getElementById("staff_name").value,
            address: document.getElementById("staff_address").value
        };

        fetch(STAFF_URL + "/add", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(staff)
        })
        .then(res => res.text())
        .then(msg => showMessage(msg));
    }

    function getStaff() {
        let id = document.getElementById("staff_id").value;

        fetch(`${STAFF_URL}/${id}`)
        .then(res => res.json())
        .then(data => {
            document.getElementById("staff_name").value = data.name;
            document.getElementById("staff_address").value = data.address;
            showMessage("Staff fetched successfully");
        })
        .catch(() => showMessage("Staff not found"));
    }

    function deleteStaff() {
        let id = document.getElementById("staff_id").value;

        fetch(`${STAFF_URL}/${id}`, { method: "DELETE" })
        .then(res => res.text())
        .then(msg => showMessage(msg));
    }
</script>

</body>
</html>
