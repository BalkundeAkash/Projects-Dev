<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hospital Management System</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
body {
  box-sizing: border-box;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideIn {
  from { opacity: 0; transform: translateX(-30px); }
  to { opacity: 1; transform: translateX(0); }
}

.fade-in {
  animation: fadeIn 0.8s ease-out;
}

.slide-in {
  animation: slideIn 0.6s ease-out;
}

.gradient-bg {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.card-hover {
  transition: all 0.3s ease;
}

.card-hover:hover {
  transform: translateY(-5px);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
}

.pulse-border {
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(102, 126, 234, 0.4); }
  50% { box-shadow: 0 0 0 10px rgba(102, 126, 234, 0); }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #f1f1f1;
}

::-webkit-scrollbar-thumb {
  background: #667eea;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #5568d3;
}
</style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full">
  <div id="app" class="w-full h-full overflow-auto"><!-- Homepage -->
   <div id="homepage" class="w-full min-h-full gradient-bg flex items-center justify-center px-4 py-12">
    <div class="max-w-4xl w-full text-center fade-in"><!-- Hospital Icon -->
     <div class="mb-8">
      <svg class="w-24 h-24 mx-auto text-white" fill="currentColor" viewbox="0 0 24 24"><path d="M19 3H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 11h-4v4h-4v-4H6v-4h4V6h4v4h4v4z" />
      </svg>
     </div><!-- Main Title -->
     <h1 id="mainTitle" class="text-5xl md:text-6xl font-bold text-white mb-6 slide-in">Hospital Management System</h1><!-- Subtitle -->
     <p id="subtitle" class="text-xl md:text-2xl text-white opacity-90 mb-12 slide-in">Streamline your healthcare operations with modern technology</p><!-- Features Grid -->
     <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12 slide-in">
      <div class="bg-white bg-opacity-20 backdrop-blur-lg rounded-lg p-6 card-hover">
       <svg class="w-12 h-12 mx-auto mb-4 text-white" fill="currentColor" viewbox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />
       </svg>
       <h3 class="text-white font-semibold text-lg mb-2">Doctor Management</h3>
       <p class="text-white text-sm opacity-80">Manage doctor profiles and specializations</p>
      </div>
      <div class="bg-white bg-opacity-20 backdrop-blur-lg rounded-lg p-6 card-hover">
       <svg class="w-12 h-12 mx-auto mb-4 text-white" fill="currentColor" viewbox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z" />
       </svg>
       <h3 class="text-white font-semibold text-lg mb-2">Appointments</h3>
       <p class="text-white text-sm opacity-80">Schedule and track patient appointments</p>
      </div>
      <div class="bg-white bg-opacity-20 backdrop-blur-lg rounded-lg p-6 card-hover">
       <svg class="w-12 h-12 mx-auto mb-4 text-white" fill="currentColor" viewbox="0 0 24 24"><path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z" />
       </svg>
       <h3 class="text-white font-semibold text-lg mb-2">Records</h3>
       <p class="text-white text-sm opacity-80">Secure patient records and history</p>
      </div>
     </div><!-- CTA Button --> <button id="ctaButton" onclick="showDoctorManagement()" class="bg-white text-purple-700 font-bold text-lg px-12 py-4 rounded-full hover:bg-opacity-90 transition-all duration-300 pulse-border shadow-xl"> Get Started </button>
    </div>
   </div><!-- Doctor Management Page -->
   <div id="doctorPage" class="hidden w-full min-h-full bg-gray-50 px-4 py-8">
    <div class="max-w-2xl mx-auto"><!-- Header -->
     <div class="text-center mb-8 fade-in"><button onclick="showHomepage()" class="inline-flex items-center text-purple-600 hover:text-purple-700 mb-4 font-semibold">
       <svg class="w-5 h-5 mr-2" fill="currentColor" viewbox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" />
       </svg> Back to Home </button>
      <h2 id="pageTitle" class="text-4xl font-bold text-gray-800 mb-2">Doctor Management</h2>
      <p class="text-gray-600">Add, view, and manage doctor information</p>
     </div><!-- Main Card -->
     <div class="bg-white rounded-2xl shadow-xl p-8 fade-in"><!-- Form -->
      <form id="doctorForm" class="space-y-6">
       <div><label for="id" class="block text-sm font-semibold text-gray-700 mb-2">Doctor ID</label> <input type="number" id="id" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-purple-500 transition-colors" placeholder="Enter doctor ID" required>
       </div>
       <div><label for="name" class="block text-sm font-semibold text-gray-700 mb-2">Full Name</label> <input type="text" id="name" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-purple-500 transition-colors" placeholder="Enter doctor's name" required>
       </div>
       <div><label for="address" class="block text-sm font-semibold text-gray-700 mb-2">Address</label> <input type="text" id="address" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-purple-500 transition-colors" placeholder="Enter address" required>
       </div>
       <div><label for="spl" class="block text-sm font-semibold text-gray-700 mb-2">Specialization</label> <input type="text" id="spl" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-purple-500 transition-colors" placeholder="e.g., Cardiology, Pediatrics" required>
       </div><!-- Action Buttons -->
       <div class="grid grid-cols-1 md:grid-cols-3 gap-4 pt-4"><button type="button" onclick="addDoctor()" class="bg-gradient-to-r from-green-500 to-green-600 text-white font-semibold py-3 px-6 rounded-lg hover:from-green-600 hover:to-green-700 transition-all duration-300 shadow-lg hover:shadow-xl"> Add Doctor </button> <button type="button" onclick="getDoctor()" class="bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold py-3 px-6 rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-300 shadow-lg hover:shadow-xl"> Get Doctor </button> <button type="button" onclick="deleteDoctor()" class="bg-gradient-to-r from-red-500 to-red-600 text-white font-semibold py-3 px-6 rounded-lg hover:from-red-600 hover:to-red-700 transition-all duration-300 shadow-lg hover:shadow-xl"> Delete Doctor </button>
       </div>
      </form><!-- Result Message -->
      <div id="result" class="hidden mt-6 p-4 rounded-lg border-l-4"></div>
     </div><!-- Info Card -->
     <div class="mt-6 bg-purple-50 border-l-4 border-purple-500 p-4 rounded-lg">
      <div class="flex items-start">
       <svg class="w-5 h-5 text-purple-500 mt-0.5 mr-3" fill="currentColor" viewbox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" />
       </svg>
       <div>
        <p class="text-sm text-purple-800 font-medium">Note</p>
        <p class="text-sm text-purple-700 mt-1">Make sure your backend API is running at <code class="bg-purple-100 px-2 py-1 rounded">http://localhost:8080/doctor</code></p>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div>
  <script>
const defaultConfig = {
  main_title: "Hospital Management System",
  subtitle: "Streamline your healthcare operations with modern technology",
  cta_button: "Get Started",
  page_title: "Doctor Management",
  background_color: "#667eea",
  surface_color: "#ffffff",
  text_color: "#1f2937",
  primary_action_color: "#10b981",
  secondary_action_color: "#3b82f6"
};

const BASE_URL = "http://localhost:8080/doctor";

function showHomepage() {
  document.getElementById('homepage').classList.remove('hidden');
  document.getElementById('doctorPage').classList.add('hidden');
  clearForm();
  hideResult();
}

function showDoctorManagement() {
  document.getElementById('homepage').classList.add('hidden');
  document.getElementById('doctorPage').classList.remove('hidden');
}

function clearForm() {
  document.getElementById('id').value = '';
  document.getElementById('name').value = '';
  document.getElementById('address').value = '';
  document.getElementById('spl').value = '';
}

function showResult(message, type) {
  const resultDiv = document.getElementById('result');
  resultDiv.classList.remove('hidden', 'bg-green-50', 'border-green-500', 'text-green-800', 'bg-red-50', 'border-red-500', 'text-red-800', 'bg-blue-50', 'border-blue-500', 'text-blue-800');
  
  if (type === 'success') {
    resultDiv.classList.add('bg-green-50', 'border-green-500', 'text-green-800');
  } else if (type === 'error') {
    resultDiv.classList.add('bg-red-50', 'border-red-500', 'text-red-800');
  } else {
    resultDiv.classList.add('bg-blue-50', 'border-blue-500', 'text-blue-800');
  }
  
  resultDiv.innerHTML = `
    <div class="flex items-center">
      <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
        ${type === 'success' ? '<path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>' : 
          type === 'error' ? '<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/>' :
          '<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>'}
      </svg>
      <span class="font-medium">${message}</span>
    </div>
  `;
}

function hideResult() {
  document.getElementById('result').classList.add('hidden');
}

function addDoctor() {
  hideResult();
  
  const id = document.getElementById("id").value;
  const name = document.getElementById("name").value;
  const address = document.getElementById("address").value;
  const spl = document.getElementById("spl").value;

  if (!id || !name || !address || !spl) {
    showResult('Please fill in all fields', 'error');
    return;
  }

  let doctor = { id, name, address, spl };

  fetch(BASE_URL + "/add", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(doctor)
  })
  .then(res => res.text())
  .then(data => {
    showResult(data || 'Doctor added successfully!', 'success');
    clearForm();
  })
  .catch(error => {
    showResult('Error adding doctor. Please check if the server is running.', 'error');
  });
}

function getDoctor() {
  hideResult();
  
  const id = document.getElementById("id").value;

  if (!id) {
    showResult('Please enter a Doctor ID', 'error');
    return;
  }

  fetch(`${BASE_URL}/${id}`)
  .then(res => {
    if (!res.ok) throw new Error('Doctor not found');
    return res.json();
  })
  .then(doc => {
    document.getElementById("name").value = doc.name || '';
    document.getElementById("address").value = doc.address || '';
    document.getElementById("spl").value = doc.spl || '';
    showResult('Doctor information retrieved successfully!', 'success');
  })
  .catch(() => {
    showResult('Doctor not found. Please check the ID.', 'error');
    document.getElementById("name").value = '';
    document.getElementById("address").value = '';
    document.getElementById("spl").value = '';
  });
}

function deleteDoctor() {
  hideResult();
  
  const id = document.getElementById("id").value;

  if (!id) {
    showResult('Please enter a Doctor ID to delete', 'error');
    return;
  }

  fetch(`${BASE_URL}/${id}`, {
    method: "DELETE"
  })
  .then(res => res.text())
  .then(data => {
    showResult(data || 'Doctor deleted successfully!', 'success');
    clearForm();
  })
  .catch(error => {
    showResult('Error deleting doctor. Please check if the server is running.', 'error');
  });
}

async function onConfigChange(config) {
  const mainTitle = document.getElementById('mainTitle');
  const subtitle = document.getElementById('subtitle');
  const ctaButton = document.getElementById('ctaButton');
  const pageTitle = document.getElementById('pageTitle');
  
  if (mainTitle) mainTitle.textContent = config.main_title || defaultConfig.main_title;
  if (subtitle) subtitle.textContent = config.subtitle || defaultConfig.subtitle;
  if (ctaButton) ctaButton.textContent = config.cta_button || defaultConfig.cta_button;
  if (pageTitle) pageTitle.textContent = config.page_title || defaultConfig.page_title;
  
  const bgColor = config.background_color || defaultConfig.background_color;
  const textColor = config.text_color || defaultConfig.text_color;
  const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;
  const secondaryColor = config.secondary_action_color || defaultConfig.secondary_action_color;
  
  document.getElementById('homepage').style.background = `linear-gradient(135deg, ${bgColor} 0%, #764ba2 100%)`;
  document.getElementById('pageTitle').style.color = textColor;
}

if (window.elementSdk) {
  window.elementSdk.init({
    defaultConfig,
    onConfigChange,
    mapToCapabilities: (config) => ({
      recolorables: [
        {
          get: () => config.background_color || defaultConfig.background_color,
          set: (value) => {
            config.background_color = value;
            window.elementSdk.setConfig({ background_color: value });
          }
        },
        {
          get: () => config.text_color || defaultConfig.text_color,
          set: (value) => {
            config.text_color = value;
            window.elementSdk.setConfig({ text_color: value });
          }
        },
        {
          get: () => config.primary_action_color || defaultConfig.primary_action_color,
          set: (value) => {
            config.primary_action_color = value;
            window.elementSdk.setConfig({ primary_action_color: value });
          }
        },
        {
          get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
          set: (value) => {
            config.secondary_action_color = value;
            window.elementSdk.setConfig({ secondary_action_color: value });
          }
        }
      ],
      borderables: [],
      fontEditable: undefined,
      fontSizeable: undefined
    }),
    mapToEditPanelValues: (config) => new Map([
      ["main_title", config.main_title || defaultConfig.main_title],
      ["subtitle", config.subtitle || defaultConfig.subtitle],
      ["cta_button", config.cta_button || defaultConfig.cta_button],
      ["page_title", config.page_title || defaultConfig.page_title]
    ])
  });
}
</script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9aaff84b44a88b03',t:'MTc2NTIzNTc4MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>